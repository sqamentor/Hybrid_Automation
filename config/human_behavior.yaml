# ========================================================================
# HUMAN BEHAVIOR SIMULATION CONFIGURATION
# ========================================================================
# Configure realistic human-like behavior for automation testing
# Author: Lokendra Singh (lokendra.singh@centerforvein.com)
# Website: www.centerforvein.com
# ========================================================================

# Global enable/disable switch
enabled: true

# Environment-specific overrides
environments:
  dev:
    enabled: true
    intensity: "minimal"  # minimal, normal, high
  staging:
    enabled: true
    intensity: "normal"
  production:
    enabled: true  # Disable in production for faster execution
    intensity: "minimal"

# Typing simulation settings
typing:
  enabled: true
  min_delay: 0.08  # Minimum delay between keystrokes (seconds)
  max_delay: 0.25  # Maximum delay between keystrokes (seconds)
  pause_probability: 0.12  # 12% chance of natural pause while typing
  pause_duration_min: 0.3
  pause_duration_max: 1.2
  thinking_pause_min: 0.2  # Pause before starting to type
  thinking_pause_max: 0.6
  error_correction_probability: 0.05  # 5% chance to simulate typo correction
  use_tab_probability: 0.15  # 15% chance to press TAB after typing

# Click/Mouse simulation settings
mouse:
  enabled: true
  movement_steps: 8  # Number of steps to move mouse to target
  step_delay_min: 0.03
  step_delay_max: 0.15
  offset_variance: 5  # Random pixel offset for more natural clicking
  pre_click_pause_min: 0.1
  pre_click_pause_max: 0.4
  post_click_pause_min: 0.2
  post_click_pause_max: 0.6
  hover_probability: 0.25  # 25% chance to hover before clicking
  hover_duration_min: 0.3
  hover_duration_max: 1.2

# Scrolling behavior settings
scrolling:
  enabled: true
  increment_min: 100  # Minimum pixels to scroll
  increment_max: 350  # Maximum pixels to scroll
  scroll_pause_min: 0.4
  scroll_pause_max: 1.3
  correction_probability: 0.3  # 30% chance to scroll back slightly
  correction_amount_min: 50
  correction_amount_max: 200
  long_pause_probability: 0.15  # 15% chance of reading pause
  long_pause_min: 1.5
  long_pause_max: 3.5
  smooth_scroll: true  # Enable smooth scrolling

# Random page interaction settings
interactions:
  enabled: true
  checkbox_probability: 0.20  # 20% chance to interact with checkboxes
  dropdown_probability: 0.15  # 15% chance to interact with dropdowns
  link_hover_probability: 0.10  # 10% chance to hover over links
  max_interactions_per_page: 3

# Random mouse movement settings
mouse_movement:
  enabled: true
  steps: 10  # Number of random movements
  hover_elements:
    - "input"
    - "button"
    - "label"
    - "select"
    - "textarea"
    - "a"
    - ".form-control"
    - ".p-inputtext"
  hover_duration_min: 0.4
  hover_duration_max: 1.3
  click_probability: 0.25  # 25% chance to click hovered element
  move_away_probability: 0.20  # 20% chance to move mouse away
  screenshot_enabled: false  # Enable screenshots during movements
  retry_attempts: 3

# Idle/Think simulation
idle:
  enabled: true
  min_duration: 0.8
  max_duration: 2.5
  page_load_pause_min: 1.0
  page_load_pause_max: 2.5
  form_submission_pause_min: 0.5
  form_submission_pause_max: 1.5

# Performance/Speed presets
presets:
  minimal:
    typing:
      min_delay: 0.05
      max_delay: 0.15
    mouse:
      movement_steps: 4
    scrolling:
      increment_min: 200
      increment_max: 500
    idle:
      min_duration: 0.3
      max_duration: 1.0
  
  normal:
    typing:
      min_delay: 0.08
      max_delay: 0.25
    mouse:
      movement_steps: 8
    scrolling:
      increment_min: 100
      increment_max: 350
    idle:
      min_duration: 0.8
      max_duration: 2.5
  
  high:
    typing:
      min_delay: 0.12
      max_delay: 0.35
    mouse:
      movement_steps: 12
    scrolling:
      increment_min: 80
      increment_max: 250
    idle:
      min_duration: 1.5
      max_duration: 4.0

# Browser-specific adjustments
browsers:
  chromium:
    adjustment_factor: 1.0
  firefox:
    adjustment_factor: 1.1  # Slightly slower
  webkit:
    adjustment_factor: 0.95  # Slightly faster
  selenium_chrome:
    adjustment_factor: 1.05
  selenium_firefox:
    adjustment_factor: 1.15

# Anti-detection features
anti_detection:
  enabled: true
  randomize_viewport: true
  randomize_user_agent: false  # Set to true if needed
  inject_navigator_properties: true
  mask_automation_flags: true
  vary_timing_per_session: true  # Vary delays slightly per test session
  timing_variance_percent: 15  # +/- 15% variance in timings

# Debug settings
debug:
  log_actions: true  # Log all human-like actions
  detailed_timing: false  # Log exact timing of each action
  screenshot_on_action: false  # Take screenshot after each action
  allure_attachments: true  # Attach info to Allure reports

# Element interaction strategies
element_strategies:
  # Preferred selectors for different element types
  input_fields:
    - "input[type='text']"
    - "input[type='email']"
    - "input[type='password']"
    - "textarea"
    - ".form-control"
  
  buttons:
    - "button"
    - "input[type='submit']"
    - "input[type='button']"
    - ".btn"
  
  dropdowns:
    - "select"
    - ".p-dropdown"
    - "[role='combobox']"
  
  checkboxes:
    - "input[type='checkbox']"
    - "input[type='radio']"
    - "[role='checkbox']"

# Framework integration
integration:
  auto_apply_to_tests: false  # Automatically apply to all tests
  fixture_name: "human_behavior"  # Fixture name in conftest.py
  marker_name: "human_like"  # Pytest marker to enable behavior
  apply_to_page_objects: true  # Integrate with BasePage
  fallback_to_normal: true  # Fallback to normal actions if errors occur
